<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/main.css">
    <title>food</title>
</head>
<body>
    <div class ="h-bg">
        <div class="top">
        <header>
            <a href="#">yummy.eats</a>
        </header>
        <div class ="h-heading">
            <h1><span>The healthy</span> eating experience</h1>
            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Aliquid magnam assumenda cumque placeat nulla fuga inventore doloremque veritatis tempora rem?</p>
        </div>
        <div class ="f-c">
            <form action="">
                <div class = "left">
                    <label for="city">Enter your city:</label>
                    <input type="text" name="city" id="city">
                    <p>Example: "San Diego"</p>
                </div>
                <input type="submit" value="Find Food Now">
            </form>
        </div>
        </div>
    </div>
    <div class="authentic">
        <div class = "authentic-right">
            <h2>Authentic. Wholesome.</h2>
            <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quae repellendus amet temporibus, molestiae repudiandae porro obcaecati dolor possimus saepe quibusdam.</p>

        </div>
        <img src="images/food.jpg" alt="bowl with food">
    </div>
    <script>
        function find_city() {
            city = document.getElementById("city").value;
            console.log(city);
            overlay = document.getElementById("overlay");
            console.log(overlay);
            overlay.style.display = "grid";
            overlay.classlist.add("animate.overlay");
            fetch('${window.origin}/city',{
                method: "POST",
                credentials : "include",
                body:JSON.stringify(cityy),
                cache:"no-cache",
                headers:new headers({
                    "content-type": "application/json",
                })
            

            })
            .then (respond => respond.json())
            .then(data => {
                console.log('Success:',data);
                setTimeout(() => {
                    overlay.classlist.remove('animate-ooverlay')
                }, 
            )
            setTimeout(() =>{overlay.style="opacity:0;";},2000 
            );
            let child=document.createElement("h2");
            child.appendChild(document.createTextNode("Received successfully"))
            child.id="rem";
            setTimeout(() => {document.getElementById("top").appendChild(child);
        setTimeout(() => {child.remove();},2000);
        },2000
            );
    })
            .catch((error)=>{
                console.error('Error:',error);
            });
            
        }

        </script>
</body>
</html>
